<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Dirty Dogs serves all-beef, vegan and vegatagian hot dogs">
		<meta name="keywords" content="Hotdog">
		<title>Classic</title>
		<link rel="icon" type="image/png" href="img/favicon.png">
		<link rel="stylesheet" href="css/libs.min.css">
		<link rel="stylesheet" href="css/main.css">
	</head>
	<body>
	    <script src="js/libs.min.js"></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
		<header class="header">
			<div class="container">
				<div class="header__banner">
					<img src="img/photo-grid.png" alt="" class="header_img">
				</div>
				<!--div.header__banner-->
				<div class="header__menu">
					<menu class="menu">
						<li class="menu__item"><a href="#" class="menu__link">Menu</a></li>
						<li class="menu__item"><a href="#" class="menu__link">Catering</a></li>
						<li class="menu__item"><a href="#" class="menu__link">About Us</a></li>
						<li class="menu__item"><a href="contact.html" class="menu__link">Contact</a></li>
					</menu>
					<menu class="mobMenu">
						<li class="mobMenu__item"></li>
						<li class="mobMenu__item"></li>
						<li class="mobMenu__item"></li>
					</menu>
				</div>
			</div>
			<!--div.container-->
		</header>

		<main class="main">
			<div class="container">
				<div class="main__title">
					<div class="main__logo">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="92" height="92" viewBox="0 0 92 92">
							<defs>
								<path class="svg" id="phvwa" d="M1131.5 1093.94l-46.57 46.6a12 12 0 0 1-15.72 1.05l-4.63-3.53h-.03c-.24.16-.5.3-.75.42l-.15.08c-.24.12-.48.23-.73.32l-.2.08a11.18 11.18 0 0 1-4.2.74l-.36-.01a11.5 11.5 0 0 1-1.65-.2l-.24-.05-.6-.14-.2-.06a11.22 11.22 0 0 1-1.65-.62l-.13-.07c-.24-.11-.47-.24-.7-.37l-.06-.03a11.23 11.23 0 0 1-1.52-1.07l-.11-.1a11.46 11.46 0 0 1-1.26-1.26l-.1-.11c-.18-.22-.35-.44-.51-.67l-.1-.13c-.15-.23-.31-.47-.45-.72l-.03-.05a11.3 11.3 0 0 1-.38-.71l-.07-.13a11.35 11.35 0 0 1-.62-1.65l-.06-.2-.14-.6-.05-.24a11.45 11.45 0 0 1-.2-1.65v-.35a11.47 11.47 0 0 1 .06-1.4l.04-.38a11.61 11.61 0 0 1 .63-2.43l.08-.2c.1-.25.2-.5.32-.73l.08-.16c.13-.25.26-.5.41-.75l.02-.02-3.53-4.63a12.02 12.02 0 0 1 1.05-15.73l46.58-46.6a12 12 0 0 1 15.72-1.05l4.63 3.53h.02a11.33 11.33 0 0 1 1.64-.82l.2-.08.58-.2.29-.1a11.36 11.36 0 0 1 1.57-.33l.36-.04a12.11 12.11 0 0 1 1.41-.07l.35.01a11.18 11.18 0 0 1 1.65.2l.23.05.6.14.2.06a11.37 11.37 0 0 1 1.66.62l.13.07c.24.11.47.24.7.37l.06.04c.25.14.49.3.72.46l.13.09c.23.16.45.33.67.51l.11.1a11.46 11.46 0 0 1 1.26 1.26l.1.11c.18.22.35.44.51.67l.1.13.45.72.03.05c.14.23.26.47.38.71l.06.13a11.24 11.24 0 0 1 .63 1.65l.06.2.14.6.05.24a11.24 11.24 0 0 1 .2 1.65v.35a11.51 11.51 0 0 1-.44 3.35l-.09.28-.2.59-.08.2c-.1.24-.2.48-.32.72l-.08.16-.41.75-.02.02 3.53 4.63a12.02 12.02 0 0 1-1.05 15.73zm-67.8 40.54c.2-.16.4-.34.59-.53l60.64-60.66a8 8 0 0 0 .53-.59l.04-.04.21-.3c.1-.12.19-.24.27-.37l.2-.34.17-.3c.24-.45.43-.93.57-1.4v-.03c.08-.23.14-.47.18-.7l.02-.09.09-.66v-.12c.03-.2.04-.41.04-.62v-.16c0-.2-.02-.38-.03-.57l-.02-.2a8.02 8.02 0 0 0-.47-1.93l-.1-.28a7.94 7.94 0 0 0-.2-.4l-.13-.28-.23-.4-.16-.25-.3-.4c-.05-.07-.1-.15-.16-.21a7.9 7.9 0 0 0-1.1-1.1l-.2-.16-.41-.3-.26-.16-.4-.23a8.06 8.06 0 0 0-.68-.33l-.27-.1a7.87 7.87 0 0 0-1.93-.47l-.2-.02a8.04 8.04 0 0 0-.57-.03h-.16l-.62.03h-.12a7.9 7.9 0 0 0-.66.1l-.08.02a8 8 0 0 0-.71.17h-.02c-.48.15-.95.34-1.4.57l-.3.18-.35.2c-.13.08-.25.18-.37.27l-.3.21-.04.04c-.2.16-.4.34-.59.53l-60.64 60.66c-.2.19-.37.39-.53.59l-.04.04-.21.3c-.1.12-.19.24-.27.37l-.2.36-.18.28a7.9 7.9 0 0 0-.56 1.4v.02c-.08.24-.14.48-.18.72l-.02.08-.1.66v.12c-.02.2-.03.41-.03.62v.16c0 .2.01.38.03.57l.02.2a7.9 7.9 0 0 0 .47 1.93l.1.28.2.4.13.28.23.4.16.25.3.4c.05.07.1.15.16.21a7.95 7.95 0 0 0 1.1 1.1l.2.16.41.3.26.16.4.23.26.14.41.19.28.1a8.1 8.1 0 0 0 1.93.47l.2.02.57.03h.16l.62-.03h.12l.66-.1.08-.02a7.89 7.89 0 0 0 2.14-.75c.1-.04.19-.1.28-.16l.36-.2c.12-.1.25-.18.37-.27l.3-.22zm-15.54-18.75l3.06 4 59.5-59.51-4.01-3.06a8.57 8.57 0 0 0-11.21.76l-46.58 46.59a8.57 8.57 0 0 0-.76 11.22zm80.92-24.22c3.01-3 3.33-7.83.76-11.22l-3.06-4-59.5 59.52 4.01 3.05a8.57 8.57 0 0 0 11.21-.76zm-23.72-9.08c-6.57 1.54-8.31 8.28-8.33 8.35-.1.31-2.13 7.08-8.6 8.6-5.71 1.33-7.67 7.65-7.7 7.71-.1.33-2.63 7.28-8.72 8.7-5.36 1.26-7.25 7.25-7.27 7.31a.66.66 0 0 1-1.26-.38c.08-.28 2.12-6.78 8.23-8.2 5.28-1.24 7.66-7.5 7.77-7.82.16-.5 2.3-7.12 8.65-8.61 5.73-1.34 7.61-7.6 7.63-7.66.07-.28 1.96-7.56 9.3-9.28 6.56-1.53 8.17-8.12 8.19-8.19a.66.66 0 1 1 1.28.3c-.05.2-.82 3.38-3.46 6.02a11.71 11.71 0 0 1-5.7 3.15z"/>
							</defs>
							<g>
								<g transform="translate(-1043 -1052)">
									<use fill="#969696" xlink:href="#phvwa"/>
								</g>
							</g>
						</svg>
					</div>
					<h1 class="main__head">
						Dirty Dogs serves all-beef, vegan and vegatagian hot dogs.
					</h1>
					<div class="main__button">
						<a href="#" class="btn">More Dogs ‘n Make Em Hot</a>
					</div>

				</div>
				<!-- /.main__title -->
				<ul class="main__dynamicContent">
				</ul>
				<script type="text/babel">

                    function makeRequest(callback) {
                        let httpRequest;

                        if (window.XMLHttpRequest) { // Mozilla, Safari, ...
                            httpRequest = new XMLHttpRequest();
                        } else { // IE
                            httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
                        }

                        httpRequest.onreadystatechange = function () {
                            if (httpRequest.readyState != 4) return;
                            if (httpRequest.status != 200) {
                                // обработать ошибку
                                alert(httpRequest.status + ': ' + httpRequest.statusText);
                                return;
                            } else {
                                callback(JSON.parse(httpRequest.responseText));
                            }
                        }
                        httpRequest.open('GET', 'https://formula-test-api.herokuapp.com/menu', true);
                        httpRequest.send();
                    }

                    const filterByExpiration = function (items) {

                        let date_now_msecs = (new Date()).getTime();
                        let result = [];

                        for (let i = 0; i < items.length; i++) {
                            if (typeof items[i].expirationDate == "undefined" || !items[i].expirationDate) {
                                continue;
							}
                            let tmp = items[i].expirationDate.split('-');
                            let date = new Date(`${tmp[2]}-${tmp[0]}-${tmp[1]}`);
                            if (date.getTime() > date_now_msecs) {
                                result.push(items[i]);
                            }
                        }

                        return result;
                    }
                    const renderList = (items) => {
                        if (!Array.isArray(items)) {
                            console.error('Please check that you return array');
                            return `<h2 style="color:red">Error: It's not an array. Please check that you return array</h2>`
                        }
                        return `

							  ${items.map(item => {
										return `
									  <li class="dynamicContent__item">
											<div class="dynamicContent__text">
												<h2 class="name">
													${item.name}
												</h2>
												<p class="description">
													${item.description}
												</p>
											</div>
											<div class="dynamicContent__img">
												<img src="${item.backgroundURL}" alt="" class="hd-img">
											</div>
									  </li>
									  `;
									}).join('')}
				    	`;
                    };
                    makeRequest((items) => {
                        document.querySelector(".main__dynamicContent").innerHTML = renderList(filterByExpiration(items));
                    });

				</script>
			</div>
			<!--div.container-->
		</main>
		<footer class="footer">
			<div class="container">
				<div class="footer__wrap">
					<div class="footer__registered">
						<p class="registered">® 2018 Dirty Dogs all rights reserved</p>
					</div>
					<div class="footer__contact">
						<p class="contact"><span>274 Marconi Blvd. Columbus, Ohio 43215</span> <span>|   614.538.0095   |</span><span>Contact Us</span></p>
					</div>
				</div>
			</div>
			<!--div.container-->
		</footer>

		<script src="js/common.js" type="text/babel"></script>
	</body>
</html>